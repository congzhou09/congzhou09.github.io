<!DOCTYPE html><html><head><meta charset="utf-8"><title>TypeScript使用小贴士 | Congzhou&#39;s Blog</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="keywords" content="TypeScript"><meta name="description" content="环境配置相关■ 在还未手动安装 TypeScript 的情况下，操作系统或 IDE 很可能已经自带了 TypeScript。此时在手动安装了 TypeScript 之后如果不做相应的配置，系统命令行及 IDE 可能依旧使用原有的 TypeScript。 系统命令行的配置▲Windows 系统默认在“C:\Program Files (x86)\Microsoft SDKs\TypeScript\1"><meta property="og:type" content="article"><meta property="og:title" content="TypeScript使用小贴士"><meta property="og:url" content="https://congzhou09.github.io/handbook/TypeScript%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%B4%B4%E5%A3%AB.html"><meta property="og:site_name" content="Congzhou&#39;s Blog"><meta property="og:description" content="环境配置相关■ 在还未手动安装 TypeScript 的情况下，操作系统或 IDE 很可能已经自带了 TypeScript。此时在手动安装了 TypeScript 之后如果不做相应的配置，系统命令行及 IDE 可能依旧使用原有的 TypeScript。 系统命令行的配置▲Windows 系统默认在“C:\Program Files (x86)\Microsoft SDKs\TypeScript\1"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://congzhou09.github.io/handbook/TypeScript%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%B4%B4%E5%A3%AB/locate_to_primitive_js_file.png"><meta property="og:image" content="https://congzhou09.github.io/handbook/TypeScript%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%B4%B4%E5%A3%AB/vscode_rightbottom_toolbar.png"><meta property="article:published_time" content="2022-04-25T12:49:46.000Z"><meta property="article:modified_time" content="2025-03-19T13:37:34.663Z"><meta property="article:author" content="Congzhou"><meta property="article:tag" content="TypeScript"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://congzhou09.github.io/handbook/TypeScript%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%B4%B4%E5%A3%AB/locate_to_primitive_js_file.png"><link rel="alternate" type="application/atom+xml" title="Congzhou&#39;s Blog" href="/atom.xml"><link rel="shortcut icon" href="/tiger.ico"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/lib/fancybox.css"><script>window.lazyScripts=[]</script><script src="/js/av-min.js"></script><script src="/js/util.min.js"></script><script src="/js/fancybox.umd.js"></script><meta name="generator" content="Hexo 7.2.0"></head><body><script>var VISIT_INFO={};defineObserveKey(VISIT_INFO,"totalPV"),defineObserveKey(VISIT_INFO,"curPagePV"),defineObserveKey(VISIT_INFO,"totalUV")</script><div id="loading" class="active"></div><aside id="menu"><div class="inner flex-row-vertical"><div class="brand-wrap"><img class="brand-wrap-img" finalsrc="/img/brand.jpg" src="/img/brand-loading.jpg" alt="brandBackground"><div class="brand"><a href="/" class="avatar waves-effect waves-circle waves-light"><img finalsrc="/img/avatar.jpg" src="/img/avatar-loading.jpg" style="width:100%" alt="avatar"></a><hgroup class="introduce"><div class="nickname" style="margin-left:5px">Congzhou</div><div class="mail"><span class="iconfont icon-youxiang" style="vertical-align:middle"></span><span>congzhou09@gmail.com</span></div><div class="github-link"><a target="_blank" href="https://github.com/congzhou09"><span class="iconfont icon-ic-github"></span>GitHub主页</a></div></hgroup><div class="hint-container"></div></div></div><div class="scroll-wrap flex-col"><ul class="nav"><li class="waves-block waves-effect"><a href="/"><i class="iconfont icon icon-home" style="font-size:24px"></i>主页</a></li><li class="waves-block waves-effect"><a href="/archives"><i class="iconfont icon icon-archive" style="font-size:24px"></i>归档</a></li><li class="waves-block waves-effect"><a href="/tags"><i class="iconfont icon icon-tags" style="font-size:24px"></i>标签</a></li><li class="waves-block waves-effect"><a href="/categories"><i class="iconfont icon icon-categoryselected" style="font-size:24px"></i>分类</a></li></ul></div></div></aside><main id="main"><header class="top-header" id="header"><div class="flex-row"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" style="text-decoration:none" id="menu-toggle"><span class="iconfont icon-menu" style="font-size:21px;font-weight:700"></span></a><div class="flex-col header-title ellipsis">TypeScript使用小贴士</div><div class="search-wrap" id="search-wrap"><input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" style="text-decoration:none" id="search"><span class="iconfont icon-search" style="font-size:24px;font-weight:700"></span></a></div></div></header><header class="content-header post-header"><div class="container fade-scale"><h2 class="title">TypeScript使用小贴士</h2><h5 class="subtitle"><time datetime="2022-04-25T12:49:46.000Z" itemprop="datePublished" class="page-time">2022-04-25</time><ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/handbook/">操作手册</a></li></ul></h5></div></header><div class="container body-wrap"><aside class="post-widget"><nav class="post-toc-wrap" id="post-toc"><h4>目录</h4><ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%9B%B8%E5%85%B3"><span class="post-toc-number">1.</span><span class="post-toc-text">环境配置相关</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="post-toc-number">1.1.</span><span class="post-toc-text">系统命令行的配置</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#IDE-%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="post-toc-number">1.2.</span><span class="post-toc-text">IDE 的配置</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE%E7%9B%B8%E5%85%B3"><span class="post-toc-number">2.</span><span class="post-toc-text">项目配置相关</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Node-%E9%A1%B9%E7%9B%AE"><span class="post-toc-number">2.1.</span><span class="post-toc-text">Node 项目</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Web-%E9%A1%B9%E7%9B%AE"><span class="post-toc-number">2.2.</span><span class="post-toc-text">Web 项目</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#webpack-%E9%A1%B9%E7%9B%AE%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="post-toc-number">2.2.1.</span><span class="post-toc-text">webpack 项目的配置</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E7%9A%84%E5%BC%95%E5%85%A5"><span class="post-toc-number">3.</span><span class="post-toc-text">第三方库的引入</span></a></li></ol></nav></aside><article id="post-TypeScript使用小贴士" class="post-article article-type-post fade" itemprop="blogPost"><div class="post-card"><h1 class="post-card-title">TypeScript使用小贴士</h1><div class="post-meta"><time class="post-time" title="2022-04-25 20:49:46" datetime="2022-04-25T12:49:46.000Z" itemprop="datePublished">2022-04-25</time><ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/handbook/">操作手册</a></li></ul><span id="container_page_pv" title="文章总阅读量" style="display:none"><span class="iconfont icon-eye" style="margin-right:5px;font-size:12px"></span><span id="value_page_pv"></span></span></div><div class="post-content" id="post-content" itemprop="postContent"><h3 id="环境配置相关"><a href="#环境配置相关" class="headerlink" title="环境配置相关"></a>环境配置相关</h3><p>■ 在还未手动安装 TypeScript 的情况下，操作系统或 IDE 很可能已经自带了 TypeScript。此时在手动安装了 TypeScript 之后如果不做相应的配置，系统命令行及 IDE 可能依旧使用原有的 TypeScript。</p><h4 id="系统命令行的配置"><a href="#系统命令行的配置" class="headerlink" title="系统命令行的配置"></a>系统命令行的配置</h4><p>▲Windows 系统默认在“C:\Program Files (x86)\Microsoft SDKs\TypeScript\1.0”目录下安装了 Typescript，且将此路径配置到了系统 path。导致问题：<br>（1）即使 npm -g 全局安装了最新 Typescript，运行“tsc --version”返回的仍然是老旧版本号。<br>（2）tsc 命令误报：&quot;error TS1005: &#39;;&#39; expected&quot;<br>▲ 解决办法是将上述目录文件和系统 path 里配置的路径都删掉。</p><h4 id="IDE-的配置"><a href="#IDE-的配置" class="headerlink" title="IDE 的配置"></a>IDE 的配置</h4><p>● 在任何一个&quot;*.ts&quot;文件中查看与跳转到某个原生 JS 对象成员函数定义所在的文件，如 Array 的 find()函数。默认跳转到的类型定义文件位于 VSCode 的安装目录下。<br>(MacOS 环境是&quot;&#x2F;Applications&#x2F;Visual Studio Code.app&#x2F;Contents&#x2F;Resources&#x2F;app&#x2F;extensions&#x2F;node_modules&#x2F;typescript&#x2F;lib&#x2F;lib.es2015.core.d.ts&quot;)</p><div class="img-container" style="width:50%;flex-direction:row"><img src="/handbook/TypeScript%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%B4%B4%E5%A3%AB/locate_to_primitive_js_file.png" class="" onerror="imgOnError(this)" data-fancybox></div><p>● 因为通常我们在各项目范围内安装与使用特定版本的 TypeScript，所以需要指定上述 TypeScript 目录到当前项目的 node_modules 文件夹。通过为 VSCode 添加如下配置实现，保存 Reload 下窗口再次查看跳转函数定义所在文件跳转的就是当前项目的 node_modules 文件夹了，且在 VSCode 打开 ts 文件窗口的右下方状态栏可以看到当前 TypeScript 的版本号。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;typescript.tsdk&quot;: &quot;node_modules/typescript/lib&quot;,</span><br></pre></td></tr></table></figure><div class="img-container" style="width:50%;flex-direction:row"><img src="/handbook/TypeScript%E4%BD%BF%E7%94%A8%E5%B0%8F%E8%B4%B4%E5%A3%AB/vscode_rightbottom_toolbar.png" class="" onerror="imgOnError(this)" data-fancybox></div><h3 id="项目配置相关"><a href="#项目配置相关" class="headerlink" title="项目配置相关"></a>项目配置相关</h3><h4 id="Node-项目"><a href="#Node-项目" class="headerlink" title="Node 项目"></a>Node 项目</h4><p>○ tsconfig.json 内容样例。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;compilerOptions&quot;: &#123;</span><br><span class="line">    &quot;target&quot;: &quot;es5&quot;,                                  /* Set the JavaScript language version for emitted JavaScript and include compatible library declarations. */</span><br><span class="line">    &quot;module&quot;: &quot;commonjs&quot;,                                /* Specify what module code is generated. */</span><br><span class="line">    &quot;rootDir&quot;: &quot;./src&quot;,                                  /* Specify the root folder within your source files. */</span><br><span class="line">    &quot;declaration&quot;: true,                              /* Generate .d.ts files from TypeScript and JavaScript files in your project. */</span><br><span class="line">    &quot;sourceMap&quot;: true,                                /* Create source map files for emitted JavaScript files. */</span><br><span class="line">    &quot;outDir&quot;: &quot;./lib&quot;,                                   /* Specify an output folder for all emitted files. */</span><br><span class="line">    &quot;esModuleInterop&quot;: true,                             /* Emit additional JavaScript to ease support for importing CommonJS modules. This enables `allowSyntheticDefaultImports` for type compatibility. */</span><br><span class="line">    &quot;forceConsistentCasingInFileNames&quot;: true,            /* Ensure that casing is correct in imports. */</span><br><span class="line">    &quot;strict&quot;: true,                                      /* Enable all strict type-checking options. */</span><br><span class="line">    &quot;skipLibCheck&quot;: true                                 /* Skip type checking all .d.ts files. */</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>○ 安装@types&#x2F;node 以支持 Node 的 ts 类型定义。</p><h4 id="Web-项目"><a href="#Web-项目" class="headerlink" title="Web 项目"></a>Web 项目</h4><p>○ tsconfig.json 内容样例。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;compilerOptions&quot;: &#123;</span><br><span class="line">    &quot;target&quot;: &quot;es5&quot;,                                     /* Set the JavaScript language version for emitted JavaScript and include compatible library declarations. */</span><br><span class="line">    &quot;module&quot;: &quot;commonjs&quot;,                                /* Specify what module code is generated. */</span><br><span class="line">    &quot;lib&quot;: [&quot;dom&quot;, &quot;esnext&quot;]                             /* Specify library files to be included in the compilation. */,</span><br><span class="line">    &quot;jsx&quot;: &quot;react&quot;                                       /* Specify JSX code generation: &#x27;preserve&#x27;, &#x27;react-native&#x27;, &#x27;react&#x27;, &#x27;react-jsx&#x27; or &#x27;react-jsxdev&#x27;. */,</span><br><span class="line">    &quot;declaration&quot;: true,                                 /* Generate .d.ts files from TypeScript and JavaScript files in your project. */</span><br><span class="line">    &quot;strict&quot;: true,                                      /* Enable all strict type-checking options. */</span><br><span class="line">    &quot;forceConsistentCasingInFileNames&quot;: true,            /* Ensure that casing is correct in imports. */</span><br><span class="line">    &quot;skipLibCheck&quot;: true                                 /* Skip type checking all .d.ts files. */</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>○ react 项目安装@types&#x2F;react 和@types&#x2F;react-dom。<br>○<a target="_blank" rel="noopener" href="https://www.codegrepper.com/code-examples/typescript">ts 书写格式参考</a>。<br>○<a target="_blank" rel="noopener" href="https://react-typescript-cheatsheet.netlify.app/docs/basic/getting-started/basic_type_example">react 各场景的 ts 书写格式参考（react-typescript-cheatsheet）</a></p><h5 id="webpack-项目的配置"><a href="#webpack-项目的配置" class="headerlink" title="webpack 项目的配置"></a>webpack 项目的配置</h5><p>◻︎ 支持 ts 语法的两种方式。<br>方式一：通过&quot;ts-loader&quot;实现对 ts 文件的类型检查与编译。<br>方式二：&quot;babel-loader&quot;通过配置“@babel&#x2F;preset-typescript”presets 也可以解析与编译 ts 语法。</p><p>◻︎ 两种方式的区别是：第二种方式，由于 babel 仅做解析和编译，不会做 ts 类型检查，进而不会在 webpack 命令行输出中报出类型检查错误。<a target="_blank" rel="noopener" href="https://www.typescriptlang.org/docs/handbook/babel-with-typescript.html">官方详细说明</a>。</p><h3 id="第三方库的引入"><a href="#第三方库的引入" class="headerlink" title="第三方库的引入"></a>第三方库的引入</h3><p>▲ 第三方库的 ts 类型定义通常在名为“@types&#x2F;库名”的 npm 包中，可通过命令&quot;npm view @types&#x2F;库名&quot;查看该 npm 包是否存在。这种方式无需额外配置，TypeScript 会自动读取“node_modules&#x2F;@types”目录下的声明文件。</p><p>▲ 当没有对应第三方库的类型声明 npm 包的时候，需要手动书写*.d.ts 文件。然后有两种配置方式。<br>（1）在 tsconfig.json 配置中的 &quot;include&quot; 字段数组中增加文件完整路径。注意这里添加的路径不能是&quot;node_modules&quot;目录下的，会被 TypeScript 忽略。<br>（2）通过三斜线语句引入类型定义文件，示例如下。这种方式的配置与上一种不同，它仅对当前文件有效，当别的文件缺少这个声明时也需要书写引入语句。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">// 类型定义文件 &quot;./types/one.d.ts&quot;</span><br><span class="line">declare module &#x27;Module_Name&#x27; &#123;</span><br><span class="line">  export default (...)=&gt;any;</span><br><span class="line">  export class ...;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 引入类型定义文件</span><br><span class="line">/// &lt;reference path=&quot;./types/one.d.ts&quot; /&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div><blockquote class="post-copyright"><div class="content"></div><footer style="width:100%"><h5><span class="post-time">最后更新时间：<time datetime="2025-03-19T13:37:34.663Z" itemprop="dateUpdated">2025-03-19 21:37:34</time></span><span style="float:right"><img src="/img/avatar.jpg" alt="Congzhou">Congzhou</span></h5></footer></blockquote><div class="post-footer"><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a></li></ul></div></div><nav class="post-nav flex-row flex-justify-between"><div class="prev"><a href="/knowledge/%E9%98%BF%E9%87%8C%E4%BD%8E%E4%BB%A3%E7%A0%81%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE%E5%AD%A6%E4%B9%A0-%E9%A1%B9%E7%9B%AE%E5%88%9D%E8%AF%86.html" id="post-prev" class="post-nav-link"><div class="tips"><i class="iconfont icon-arrow1l"></i>Prev</div><h4 class="title">阿里低代码开源项目学习-项目初识</h4></a></div><div class="next"><a href="/practice/%E7%89%B9%E5%AE%9A%E9%A1%B9%E7%9B%AE%E4%B8%8B%E8%87%AA%E5%8A%A8%E5%88%87%E6%8D%A2node%E5%88%B0%E6%8C%87%E5%AE%9A%E7%89%88%E6%9C%AC.html" id="post-next" class="post-nav-link"><div class="tips">Next<i class="iconfont icon-arrow1r"></i></div><h4 class="title">特定项目下自动切换node到指定版本</h4></a></div></nav><div class="comments vcomment" id="comments"></div><script src="/js/valine.min.js"></script><script>var GUEST_INFO=["nick","mail","link"],guest_info="nick,mail,link".split(",").filter(function(e){return-1<GUEST_INFO.indexOf(e)}),required_info="nick,mail".split(",").filter(function(e){return-1<GUEST_INFO.indexOf(e)});new Valine({el:"#comments",appId:"tq4lHkryFNXHsw9SOypjPRwx-gzGzoHsz",appKey:"lFmuObNsezjTPj5e86R1TgOg",avatar:"mp",placeholder:"欢迎留言(支持Markdown语法), 将展示您邮箱绑定的Gravatar头像(如果有的话~)",meta:0==guest_info.length?GUEST_INFO:guest_info,pageSize:"10",recordIP:!1,requiredFields:required_info})</script></article></div><footer class="footer"><div class="bottom"><p><span>Copyright &copy; 2009-2025 Congzhou</span><span id="container_site_uv" style="display:none">总访客数：<span id="value_site_uv"></span></span><span id="container_site_pv" style="display:none">总访问量：<span id="value_site_pv"></span></span></p></div></footer></main><div class="mask" id="mask"></div><a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light" style="text-decoration:none"><span class="iconfont icon-arrow-up" style="font-size:25px;font-weight:700"></span></a><script>var BLOG={ROOT:"/",SHARE:!1,REWARD:!1}</script><script src="/js/main.min.js"></script><div class="search-panel" id="search-panel"><ul class="search-result" id="search-result"></ul></div><template id="search-tpl"><li class="item"><a href="{path}" class="waves-block waves-effect"><div class="title ellipsis" title="{title}">{title}</div><div class="flex-row flex-middle"><div class="tags ellipsis">{tags}</div><time class="flex-col time">{date}</time></div></a></li></template><script src="/js/search.min.js"></script><script>Observer.callback=function(){var e=document.querySelector("#value_page_pv");e.innerText=VISIT_INFO.curPagePV,e.parentNode.style.display="inline-block"},VISIT_INFO.curPagePV,Observer.callback=null,Observer.callback=function(){var e=document.querySelector("#value_site_pv");e.innerText=VISIT_INFO.totalPV,e.parentNode.style.display="inline-block"},VISIT_INFO.totalPV,Observer.callback=null,Observer.callback=function(){var e=document.querySelector("#value_site_uv");e.innerText=VISIT_INFO.totalUV,e.parentNode.style.display="inline-block"},VISIT_INFO.totalUV,Observer.callback=null,setTimeout(function(){var a=AV.Object.extend("visit_pv"),e=AV.Object.extend("visit_uv"),t=new AV.Query(a),o=location.pathname;location.hostname.match("localhost")?(t.equalTo("url",o),t.find().then(function(e){if(e.length){var t=e[0];VISIT_INFO.curPagePV=t.get("times")}else VISIT_INFO.curPagePV=0})):(t.equalTo("url",o),t.find().then(function(e){if(e.length){var t=e[0];VISIT_INFO.curPagePV=t.get("times"),t.increment("times",1),t.save()}else{VISIT_INFO.curPagePV=0;var l=new a;l.set("url",o),l.set("times",1);var n=document.querySelector(".post-card-title").innerText;l.set("title",n),l.save()}}));var l=localStorage.getItem("blog_UID");l||(l=generateUID(),localStorage.setItem("blog_UID",l)),AV.Cloud.run("total_pv").then(function(e){VISIT_INFO.totalPV=e}),location.hostname.match("localhost")||AV.Cloud.run("rec_uv",{UID:l}).then(function(e){}),new AV.Query(e).count().then(function(e){VISIT_INFO.totalUV=e+1998})},100)</script><script>"serviceWorker"in navigator&&(window.addEventListener("load",function(){navigator.serviceWorker.register("/service-worker.js").then(function(e){console.log("service-worker register ok")}).catch(function(e){console.log("service-worker register failed: "+e)})}),navigator.serviceWorker.addEventListener("controllerchange",function(){console.log("检测到缓存资源更新，刷新以获取新内容")}))</script></body></html>