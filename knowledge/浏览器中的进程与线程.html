<!DOCTYPE html><html><head><meta charset="utf-8"><title>浏览器中的进程与线程 | Congzhou&#39;s Blog</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="keywords" content="浏览器"><meta name="description" content="浏览器中的进程◆ 现代浏览器都是多进程的，不过目前没有标准规范约定浏览器具体要分为哪些进程或线程，所以各浏览器厂商实现细节会有不同且随着发展在不断调整中，本文以 Chrome 浏览器为例，Chrome 的浏览器内核是 Blink；◆ Chrome 主要包括如下进程：（1）Browser 进程，浏览器主进程，只有一个，负责浏览器基本界面和功能（如地址栏、书签、前进后退按钮）的展示与交互、操作系统特权"><meta property="og:type" content="article"><meta property="og:title" content="浏览器中的进程与线程"><meta property="og:url" content="https://congzhou09.github.io/knowledge/%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B.html"><meta property="og:site_name" content="Congzhou&#39;s Blog"><meta property="og:description" content="浏览器中的进程◆ 现代浏览器都是多进程的，不过目前没有标准规范约定浏览器具体要分为哪些进程或线程，所以各浏览器厂商实现细节会有不同且随着发展在不断调整中，本文以 Chrome 浏览器为例，Chrome 的浏览器内核是 Blink；◆ Chrome 主要包括如下进程：（1）Browser 进程，浏览器主进程，只有一个，负责浏览器基本界面和功能（如地址栏、书签、前进后退按钮）的展示与交互、操作系统特权"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://congzhou09.github.io/knowledge/%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B/chrome_process_architecture.jpg"><meta property="og:image" content="https://congzhou09.github.io/knowledge/%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B/chrome_thread_architecture.jpg"><meta property="og:image" content="https://congzhou09.github.io/knowledge/%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B/render_process_threads.png"><meta property="og:image" content="https://congzhou09.github.io/knowledge/%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B/mainThreadScheduler.jpg"><meta property="article:published_time" content="2020-12-11T09:08:00.000Z"><meta property="article:modified_time" content="2025-03-19T13:37:34.723Z"><meta property="article:author" content="Congzhou"><meta property="article:tag" content="浏览器"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://congzhou09.github.io/knowledge/%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B/chrome_process_architecture.jpg"><link rel="alternate" type="application/atom+xml" title="Congzhou&#39;s Blog" href="/atom.xml"><link rel="shortcut icon" href="/tiger.ico"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/lib/fancybox.css"><script>window.lazyScripts=[]</script><script src="/js/av-min.js"></script><script src="/js/util.min.js"></script><script src="/js/fancybox.umd.js"></script><meta name="generator" content="Hexo 7.2.0"></head><body><script>var VISIT_INFO={};defineObserveKey(VISIT_INFO,"totalPV"),defineObserveKey(VISIT_INFO,"curPagePV"),defineObserveKey(VISIT_INFO,"totalUV")</script><div id="loading" class="active"></div><aside id="menu"><div class="inner flex-row-vertical"><div class="brand-wrap"><img class="brand-wrap-img" finalsrc="/img/brand.jpg" src="/img/brand-loading.jpg" alt="brandBackground"><div class="brand"><a href="/" class="avatar waves-effect waves-circle waves-light"><img finalsrc="/img/avatar.jpg" src="/img/avatar-loading.jpg" style="width:100%" alt="avatar"></a><hgroup class="introduce"><div class="nickname" style="margin-left:5px">Congzhou</div><div class="mail"><span class="iconfont icon-youxiang" style="vertical-align:middle"></span><span>congzhou09@gmail.com</span></div><div class="github-link"><a target="_blank" href="https://github.com/congzhou09"><span class="iconfont icon-ic-github"></span>GitHub主页</a></div></hgroup><div class="hint-container"></div></div></div><div class="scroll-wrap flex-col"><ul class="nav"><li class="waves-block waves-effect"><a href="/"><i class="iconfont icon icon-home" style="font-size:24px"></i>主页</a></li><li class="waves-block waves-effect"><a href="/archives"><i class="iconfont icon icon-archive" style="font-size:24px"></i>归档</a></li><li class="waves-block waves-effect"><a href="/tags"><i class="iconfont icon icon-tags" style="font-size:24px"></i>标签</a></li><li class="waves-block waves-effect"><a href="/categories"><i class="iconfont icon icon-categoryselected" style="font-size:24px"></i>分类</a></li></ul></div></div></aside><main id="main"><header class="top-header" id="header"><div class="flex-row"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" style="text-decoration:none" id="menu-toggle"><span class="iconfont icon-menu" style="font-size:21px;font-weight:700"></span></a><div class="flex-col header-title ellipsis">浏览器中的进程与线程</div><div class="search-wrap" id="search-wrap"><input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字"><a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" style="text-decoration:none" id="search"><span class="iconfont icon-search" style="font-size:24px;font-weight:700"></span></a></div></div></header><header class="content-header post-header"><div class="container fade-scale"><h2 class="title">浏览器中的进程与线程</h2><h5 class="subtitle"><time datetime="2020-12-11T09:08:00.000Z" itemprop="datePublished" class="page-time">2020-12-11</time><ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/knowledge/">知识解惑</a></li></ul></h5></div></header><div class="container body-wrap"><aside class="post-widget"><nav class="post-toc-wrap" id="post-toc"><h4>目录</h4><ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84%E8%BF%9B%E7%A8%8B"><span class="post-toc-number">1.</span><span class="post-toc-text">浏览器中的进程</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Render-%E8%BF%9B%E7%A8%8B%E4%B8%AD%E7%9A%84%E7%BA%BF%E7%A8%8B"><span class="post-toc-number">2.</span><span class="post-toc-text">Render 进程中的线程</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE"><span class="post-toc-number">3.</span><span class="post-toc-text">参考文献</span></a></li></ol></nav></aside><article id="post-浏览器中的进程与线程" class="post-article article-type-post fade" itemprop="blogPost"><div class="post-card"><h1 class="post-card-title">浏览器中的进程与线程</h1><div class="post-meta"><time class="post-time" title="2020-12-11 17:08:00" datetime="2020-12-11T09:08:00.000Z" itemprop="datePublished">2020-12-11</time><ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/knowledge/">知识解惑</a></li></ul><span id="container_page_pv" title="文章总阅读量" style="display:none"><span class="iconfont icon-eye" style="margin-right:5px;font-size:12px"></span><span id="value_page_pv"></span></span></div><div class="post-content" id="post-content" itemprop="postContent"><h3 id="浏览器中的进程"><a href="#浏览器中的进程" class="headerlink" title="浏览器中的进程"></a>浏览器中的进程</h3><p>◆ 现代浏览器都是多进程的，不过目前没有标准规范约定浏览器具体要分为哪些进程或线程，所以各浏览器厂商实现细节会有不同且随着发展在不断调整中，本文以 Chrome 浏览器为例，Chrome 的浏览器内核是 Blink；<br>◆ Chrome 主要包括如下进程：<br>（1）Browser 进程，浏览器主进程，只有一个，负责浏览器基本界面和功能（如地址栏、书签、前进后退按钮）的展示与交互、操作系统特权功能如网络请求和文件访问，以及各子进程的管理；<br>（2）Render 进程，也称为“Renderer”，通常有多个，负责网页内容相关的事务，通常说的“浏览器内核”运行在 Render 进程，默认每个 tab 页对应一个 Render 进程，当满足某些条件如 tab 页超过一定数量或系统资源紧缺时会做合并优化（比如相同网站 tab 共用一个 Render 进程甚至不同网站 tab 共用一个 Render 进程）；<br>（3）Utility 进程，有多个，用于网络、存储、音频播放等通用功能；<br>（4）GPU 进程，只有一个，集中处理 GPU 任务；<br>（5）Plugin 进程，有多个，负责在后台运行浏览器插件；</p><div class="img-container" style="width:87%"><img src="/knowledge/%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B/chrome_process_architecture.jpg" class="" onerror="imgOnError(this)" data-fancybox></div><p>◆ 通过“Shift+Esc”打开浏览器的“任务管理器”可以看到当前运行的所有浏览器进程；<br>◆ 上述进程都是多线程的，而且所有进程都有两个基础线程：Main 线程和 I&#x2F;O 线程，另外可能有些做特定工作的线程，以及做通用工作的线程池；<br>◆ Browser 进程中的 Main 线程也称为 UI 线程，主要负责 UI 相关，Browser 进程中的 I&#x2F;O 线程处理 IPC（Inter-process communication 进程间通信）与网络请求；<br>◆ Render 进程中的 Main 线程也称为 Render 线程(有时也按照浏览器内核名命名如 Blink 主线程)，同样有 I&#x2F;O 线程处理 IPC；<br>◆ 几乎每个线程都有一个不断从任务队列获取要执行任务的 loop，多个线程可能共享同一个任务队列；</p><h3 id="Render-进程中的线程"><a href="#Render-进程中的线程" class="headerlink" title="Render 进程中的线程"></a>Render 进程中的线程</h3><p>◆ Render 线程会创建了一个浏览器内核实例，用于处理接收到的网页内容，它会针对每个网页建立一个 RenderView 实例，每个 RenderView 实例又会被关联到 Browser 进程中的一个 RenderViewHost 实例以便 Browser 进程的统一管理；<br>◆ Browser 进程与 Render 进程及各自主要线程的关系如下图，其中 Render 进程的线程在第一张图中不准确，以第二张图为准；</p><div class="img-container" style="width:90%"><img src="/knowledge/%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B/chrome_thread_architecture.jpg" class="" onerror="imgOnError(this)" data-fancybox></div><div class="img-container" style="width:90%"><img src="/knowledge/%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B/render_process_threads.png" class="" onerror="imgOnError(this)" data-fancybox></div><p>◆ 浏览器内核实例包含如下功能：<br>（1）排版引擎，负责将从网络获取到的网页内容数据可视化地展示到屏幕。排版引擎中包含了负责解析编译与运行 JS 代码的 JS 引擎；<br>（2）对<a target="_blank" rel="noopener" href="https://html.spec.whatwg.org/#event-loop">HTML Living Standard</a>的实现，包括：事件循环(Event Loop)、任务队列（Task Queue）、各种 Worker、垃圾回收，以及 HTMLElement、setTimeout、XMLHttpRequest 等各种接口与 API；<br>◆ 浏览器内核实例为完成功能会再开启新线程，如 worker 线程(Web Workers、ServiceWorker 与 Worklets)与 internal 线程(webaudio、database、GC 等)，以及辅助页面渲染的 Compositor 线程；<br>◆ JS 引擎是内嵌在排版引擎被被动调用的，二者都在 Render 线程上执行，从而产生平时看到的“排版引擎与 JS 引擎的执行是互斥的，同一时间只能执行其中一个”的结果；<br>◆ 对于 Blink ， Event Loop 机制由<a target="_blank" rel="noopener" href="https://docs.google.com/document/d/11N2WTV3M0IkZ-kQlKWlBcwkOkKTCuLXGVNylK5E2zvc/edit#">Scheduler</a>完成。Scheduler 实例存在于 Render 线程的上下文但又有自己的独立线程，它维护了多个按任务类型划分的任务队列，所有希望 post 给 Render 线程处理的任务(如解析 Html )都先通过调用 Scheduler 提供的 API 将任务放入对应类型的任务队列， Scheduler 会根据优先级策略及 Render 线程当前状态确定要执行哪一个任务之后再将其 post 给 Render 线程的 message loop，下图自上而下展示了此过程；</p><div class="img-container" style=""><img src="/knowledge/%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B/mainThreadScheduler.jpg" class="" onerror="imgOnError(this)" data-fancybox></div><p>◆ 默认情况下 input 类任务优先级最高，其次是 Compositor 类的任务，具体优先级权重会根据策略做动态调整；<br>◆ Compositor 线程等网页渲染相关的线程在这篇<a href="./%E7%BD%91%E9%A1%B5%E6%B8%B2%E6%9F%93%E8%BF%87%E7%A8%8B.html">网页渲染过程</a>；<br>◆ JS 引擎与 Event Loop 相关整理在这篇<a href="./%E6%B5%8F%E8%A7%88%E5%99%A8%E7%BB%84%E6%88%90%E4%B8%8EJS%E8%BF%90%E8%A1%8C%E6%97%B6%E7%8E%AF%E5%A2%83.html">浏览器组成与 JS 运行时环境</a>；</p><h3 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h3><p>●<a target="_blank" rel="noopener" href="https://medium.com/@thiluxan/how-web-browsers-use-process-threads-a5e560d42037">How Web Browsers Use Process &amp; Threads</a><br>●<a target="_blank" rel="noopener" href="https://medium.com/swlh/how-mozilla-firefox-and-google-chrome-use-process-threads-7f17a9c79ba0">How Mozilla Firefox and Google Chrome Use Process &amp; Threads</a><br>●<a target="_blank" rel="noopener" href="https://developers.google.com/web/updates/2018/09/inside-browser-part1">Google Developers: Inside Look At Modern Web Browser 系列</a><br>●<a target="_blank" rel="noopener" href="https://docs.google.com/document/d/1aitSOucL0VHZa9Z2vbRJSyAIsAz24kX8LFByQ5xQnUg/edit?usp=sharing">How Blink Works</a><br>●<a target="_blank" rel="noopener" href="https://www.chromium.org/developers/design-documents/multi-process-architecture">The Chromium Projects: Multi-process Architecture</a><br>●<a target="_blank" rel="noopener" href="https://www.chromium.org/developers/design-documents/displaying-a-web-page-in-chrome">The Chromium Projects: How Chromium Displays Web Pages</a><br>●<a target="_blank" rel="noopener" href="https://chromium.googlesource.com/chromium/src/+/master/third_party/blink/renderer/platform/scheduler/public/event_loop.h">Chromium Source Code And Code Comments And Readme.md</a><br>●<a target="_blank" rel="noopener" href="https://chromium.googlesource.com/chromium/src/+/master/docs/threading_and_tasks.md">Threading and Tasks in Chrome</a><br>●<a target="_blank" rel="noopener" href="https://docs.google.com/document/d/11N2WTV3M0IkZ-kQlKWlBcwkOkKTCuLXGVNylK5E2zvc/edit#">Blink Scheduler</a><br>●<a target="_blank" rel="noopener" href="https://www.zeolearn.com/magazine/javascript-how-is-callback-execution-strategy-for-promises-different-than-dom-events-callback">JavaScript: How Is Callback Execution Strategy For Promises Different Than DOM Events Callback?</a></p></div><blockquote class="post-copyright"><div class="content"></div><footer style="width:100%"><h5><span class="post-time">最后更新时间：<time datetime="2025-03-19T13:37:34.723Z" itemprop="dateUpdated">2025-03-19 21:37:34</time></span><span style="float:right"><img src="/img/avatar.jpg" alt="Congzhou">Congzhou</span></h5></footer></blockquote><div class="post-footer"><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/" rel="tag">浏览器</a></li></ul></div></div><nav class="post-nav flex-row flex-justify-between"><div class="prev"><a href="/knowledge/%E7%BD%91%E9%A1%B5%E6%B8%B2%E6%9F%93%E8%BF%87%E7%A8%8B.html" id="post-prev" class="post-nav-link"><div class="tips"><i class="iconfont icon-arrow1l"></i>Prev</div><h4 class="title">网页渲染过程</h4></a></div><div class="next"><a href="/handbook/%E9%92%89%E9%92%89%E5%BE%AE%E5%BA%94%E7%94%A8%E4%B8%8E%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%85%8D%E7%99%BB%E6%B5%81%E7%A8%8B.html" id="post-next" class="post-nav-link"><div class="tips">Next<i class="iconfont icon-arrow1r"></i></div><h4 class="title">钉钉微应用与小程序的免登流程</h4></a></div></nav><div class="comments vcomment" id="comments"></div><script src="/js/valine.min.js"></script><script>var GUEST_INFO=["nick","mail","link"],guest_info="nick,mail,link".split(",").filter(function(e){return-1<GUEST_INFO.indexOf(e)}),required_info="nick,mail".split(",").filter(function(e){return-1<GUEST_INFO.indexOf(e)});new Valine({el:"#comments",appId:"tq4lHkryFNXHsw9SOypjPRwx-gzGzoHsz",appKey:"lFmuObNsezjTPj5e86R1TgOg",avatar:"mp",placeholder:"欢迎留言(支持Markdown语法), 将展示您邮箱绑定的Gravatar头像(如果有的话~)",meta:0==guest_info.length?GUEST_INFO:guest_info,pageSize:"10",recordIP:!1,requiredFields:required_info})</script></article></div><footer class="footer"><div class="bottom"><p><span>Copyright &copy; 2009-2025 Congzhou</span><span id="container_site_uv" style="display:none">总访客数：<span id="value_site_uv"></span></span><span id="container_site_pv" style="display:none">总访问量：<span id="value_site_pv"></span></span></p></div></footer></main><div class="mask" id="mask"></div><a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light" style="text-decoration:none"><span class="iconfont icon-arrow-up" style="font-size:25px;font-weight:700"></span></a><script>var BLOG={ROOT:"/",SHARE:!1,REWARD:!1}</script><script src="/js/main.min.js"></script><div class="search-panel" id="search-panel"><ul class="search-result" id="search-result"></ul></div><template id="search-tpl"><li class="item"><a href="{path}" class="waves-block waves-effect"><div class="title ellipsis" title="{title}">{title}</div><div class="flex-row flex-middle"><div class="tags ellipsis">{tags}</div><time class="flex-col time">{date}</time></div></a></li></template><script src="/js/search.min.js"></script><script>Observer.callback=function(){var e=document.querySelector("#value_page_pv");e.innerText=VISIT_INFO.curPagePV,e.parentNode.style.display="inline-block"},VISIT_INFO.curPagePV,Observer.callback=null,Observer.callback=function(){var e=document.querySelector("#value_site_pv");e.innerText=VISIT_INFO.totalPV,e.parentNode.style.display="inline-block"},VISIT_INFO.totalPV,Observer.callback=null,Observer.callback=function(){var e=document.querySelector("#value_site_uv");e.innerText=VISIT_INFO.totalUV,e.parentNode.style.display="inline-block"},VISIT_INFO.totalUV,Observer.callback=null,setTimeout(function(){var a=AV.Object.extend("visit_pv"),e=AV.Object.extend("visit_uv"),t=new AV.Query(a),o=location.pathname;location.hostname.match("localhost")?(t.equalTo("url",o),t.find().then(function(e){if(e.length){var t=e[0];VISIT_INFO.curPagePV=t.get("times")}else VISIT_INFO.curPagePV=0})):(t.equalTo("url",o),t.find().then(function(e){if(e.length){var t=e[0];VISIT_INFO.curPagePV=t.get("times"),t.increment("times",1),t.save()}else{VISIT_INFO.curPagePV=0;var l=new a;l.set("url",o),l.set("times",1);var n=document.querySelector(".post-card-title").innerText;l.set("title",n),l.save()}}));var l=localStorage.getItem("blog_UID");l||(l=generateUID(),localStorage.setItem("blog_UID",l)),AV.Cloud.run("total_pv").then(function(e){VISIT_INFO.totalPV=e}),location.hostname.match("localhost")||AV.Cloud.run("rec_uv",{UID:l}).then(function(e){}),new AV.Query(e).count().then(function(e){VISIT_INFO.totalUV=e+1998})},100)</script><script>"serviceWorker"in navigator&&(window.addEventListener("load",function(){navigator.serviceWorker.register("/service-worker.js").then(function(e){console.log("service-worker register ok")}).catch(function(e){console.log("service-worker register failed: "+e)})}),navigator.serviceWorker.addEventListener("controllerchange",function(){console.log("检测到缓存资源更新，刷新以获取新内容")}))</script></body></html>